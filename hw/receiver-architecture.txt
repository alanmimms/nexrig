Project Summary: High-Performance HF SDR Transceiver (Receiver Stage)

This document summarizes the final architecture for a direct-conversion (Zero-IF) Software-Defined Radio receiver. The design is optimized for high performance in the challenging 1-30 MHz HF spectrum by prioritizing linearity and robust signal handling.

1. Core Architecture & Philosophy
The receiver is a direct-conversion design, where the incoming RF signal is mixed directly down to zero-IF baseband I/Q signals. This eliminates the need for a traditional IF chain and bulky IF filters.

The core design philosophy is to prioritize linearity and dynamic range over achieving the absolute lowest possible noise figure. This decision is driven by the nature of the HF bands, which are dominated by a high external noise floor (atmospheric and man-made noise) and crowded with extremely powerful broadcast stations. In this environment, a receiver's ability to handle strong signals without generating internal distortion (IMD) is more critical to performance than its own self-noise.

2. RF Front-End
The Need for a Preselector BPF
A high-performance Bandpass Filter (BPF) is the most critical component of the front-end. The Tayloe QSD and the LNA are highly linear but can still be overloaded by the immense power of out-of-band signals (e.g., a nearby 50kW AM broadcast station). Placing a selective filter before the first gain stage (LNA) is essential to attenuate these signals, preventing the LNA from being driven into non-linear operation and creating a wall of intermodulation distortion that would deafen the receiver.

Final Band Plan
A bank of seven switchable filters was chosen as an optimal compromise between complexity and performance. This plan ensures that no amateur radio band is split and provides coverage for key WWV time signal frequencies.

Filter #

Bands Covered

Final Frequency Range (MHz)

1

160m

1.8 - 2.0

2

80m / 75m

3.25 - 4.0

3

WWV / 60m / 40m

4.5 - 7.4

4

WWV / 30m

9.9 - 10.5

5

22m / 20m / 16m / 17m / WWV

13.5 - 18.5

6

WWV / 15m / 12m

19.5 - 25.1

7

10m & Up

28.0 - 32.0

Low-Noise Amplifier (LNA)
Topology: The LNA is placed after the filter bank (Filter → LNA) to protect it.

Component: GALI-74+ MMIC Gain Block, chosen for its exceptional linearity (OIP3 of +38 dBm).

Biasing: Powered by a clean 10V DC supply with a 63.4 Ω (1 Watt) bias resistor to set the quiescent current to 80 mA for maximum linearity.

3. Filter Architecture & High-Impedance Option
Filter Topology
Type: All seven filters are 3-pole, capacitively-coupled resonator designs.

Response: A Chebyshev (0.1 dB ripple) response is used to achieve steep skirts for maximum rejection of adjacent-band signals.

High-Impedance Design with Transformer Matching
To achieve the lowest possible insertion loss (and thus the best overall system noise figure), the filters are designed to operate at a high internal impedance of 200 Ohms.

Rationale: A higher impedance design uses larger inductors. It is generally easier to wind a larger inductor to have a very high Q-factor. Since component Q is the primary determinant of insertion loss, this strategy leads to higher performance.

Implementation: A single, low-loss 4:1 (50Ω to 200Ω) wideband RF transformer is placed at the receiver's input, before the PIN diode switching network. This transforms the 50Ω antenna impedance up to the 200Ω required by the filter bank. The output of the selected filter must then be transformed back down to 50Ω before the next stage.

4. QSD, LO, Baseband, and ADC
Quadrature Sampling Detector (QSD): A passive Tayloe QSD using a 74CBT3253CPWR switch.

Local Oscillator (LO): A Si5351 synthesizer generates a single clock at 4x the target LO frequency. This is fed to a 74HC74 flip-flop circuit which divides the clock by four and produces the four required quadrature phases.

Baseband Amplifiers: TLV9064 Quad RRIO Op-Amp, configured as two fully differential amplifiers running on a single 3.3V rail.

ADC: Texas Instruments TLV320AIC3104 Stereo Audio Codec. Chosen specifically for its internal Programmable Gain Amplifier (PGA), which is the essential hardware element for the AGC loop. It provides 24-bit resolution at a 96 kS/s sample rate.

5. Digital Subsystem
Microcontroller (MCU): STM32H753QI. Its 480 MHz Cortex-M7 core handles all real-time control and DSP.

Key DSP Tasks:

AGC: The MCU runs the AGC loop by controlling the TLV320AIC3104's internal PGA.

Waterfall: A 30 FPS FFT is computed on the 96 kHz I/Q stream and sent to a host PC.

Channel Filtering & Demodulation: A long FIR filter selects the desired signal, which is then decimated and demodulated (for CW/SSB/AM) on the MCU.

Calibration: The MCU runs routines to correct for DC Offset and I/Q Imbalance.
